---
title: Sell PT
description: Sell PT tokens for base assets in a single transaction
---

The `ixWrapperSellPt` method on the `MarketThree` class converts PT (Principal Tokens) back into base assets by swapping PT for SY and then redeeming SY for base in a single atomic operation.

## Usage

```typescript
import { MarketThree, LOCAL_ENV } from "@exponent-labs/exponent-sdk";
import { Connection, PublicKey, Transaction, sendAndConfirmTransaction } from "@solana/web3.js";

const connection = new Connection("https://api.mainnet-beta.solana.com");
const market = await MarketThree.load(LOCAL_ENV, connection, marketAddress);

const { ixs, setupIxs } = await market.ixWrapperSellPt({
  owner: wallet.publicKey,
  amount: 1_000_000_000n,
  minBaseOut: 900_000_000n,
});

const tx = new Transaction().add(...setupIxs, ...ixs);
const signature = await sendAndConfirmTransaction(connection, tx, [wallet]);
```

<Tip>
  This is an async method because it needs to construct the SY redemption accounts from the market's flavor configuration.
</Tip>

## Required Parameters

| Parameter    | Type        | Description                              |
| ------------ | ----------- | ---------------------------------------- |
| `owner`      | `PublicKey` | The owner's wallet public key            |
| `amount`     | `bigint`    | Amount of PT tokens to sell              |
| `minBaseOut` | `bigint`    | Minimum amount of base asset to receive  |

## Optional Parameters

| Parameter           | Type        | Description                                                    |
| ------------------- | ----------- | -------------------------------------------------------------- |
| `tokenSyTrader`     | `PublicKey` | Intermediate SY token account. Defaults to owner's ATA         |
| `tokenPtTrader`     | `PublicKey` | Source PT token account. Defaults to owner's ATA               |
| `tokenBaseTrader`   | `PublicKey` | Destination base token account. Defaults to owner's ATA        |
| `lnImpliedApyLimit` | `number`    | Optional APY limit for the swap                                |

## Returns

Returns a `Promise<PreparedInstruction>` with the following structure:

```typescript
{
  ixs: TransactionInstruction[],      // Main instructions to execute
  setupIxs: TransactionInstruction[]  // Setup instructions for creating ATAs
}
```

The `setupIxs` array contains instructions to create the necessary associated token accounts (ATAs) for SY, PT, and base tokens. The `ixs` array contains the flavor pre-instructions, the sell PT instruction, and the flavor post-instructions.
