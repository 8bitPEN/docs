---
title: Buy YT
description: Low-level instruction to buy YT tokens using SY
---

# createBuyYtInstruction

Builds a raw instruction to buy YT tokens using SY. This instruction strips SY into PT and YT, then sells the excess PT back to the pool for SY, effectively converting the input SY into YT at the current market rate. The process leverages the PT/SY AMM to determine the conversion ratio.

## Usage

```typescript
import { createBuyYtInstruction } from "@exponent-labs/exponent-sdk/client/clmm";
import { PublicKey, SystemProgram } from "@solana/web3.js";

const ix = createBuyYtInstruction({
  trader: traderKeypair.publicKey,
  market: marketAddress,
  ticks: ticksAccount,
  tokenSyTrader: traderSyTokenAccount,
  tokenYtTrader: traderYtTokenAccount,
  tokenPtTrader: traderPtTokenAccount,
  tokenSyEscrow: marketSyEscrow,
  tokenPtEscrow: marketPtEscrow,
  tokenYtEscrow: marketYtEscrow,
  tokenFeeTreasurySy: feeTreasurySyAccount,
  tokenFeeTreasuryPt: feeTreasuryPtAccount,
  tokenProgram: tokenProgramId,
  addressLookupTable: lookupTableAddress,
  syProgram: syProgramId,
  exponentCoreProgram: exponentCoreProgramId,
  eventAuthority: eventAuthorityPda,
  program: clmmProgramId,
  syIn: 1_000_000_000n,
  minYtOut: 900_000_000n,
  priceSpotLimit: 1.05,
});
```

## Accounts

This instruction uses the [YT Swap Accounts](/clmm/raw-instructions/common-accounts#yt-swap-accounts).

## Args

| Name | Type | Description |
|------|------|-------------|
| `syIn` | `u64` | Amount of SY tokens to spend |
| `minYtOut` | `u64` | Minimum amount of YT tokens to receive |
| `priceSpotLimit` | `f64` (optional) | Price limit for anti-sandwich protection |

## Returns

`TransactionInstruction` â€” a Solana transaction instruction ready to be added to a transaction.
